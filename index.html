<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Matrix Styled Page</title>
    <style>
        :root{
            --bg:#000;
            --matrix-green:#00ff6a;
            --glass: rgba(0,0,0,0.35);
            --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono", "Courier New", monospace;
        }
        html,body{
            height:100%;
            margin:0;
            background: radial-gradient(ellipse at center, #001100 0%, #000 60%);
            font-family:var(--mono);
            color:var(--matrix-green);
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
            overflow:hidden;
        }

        canvas#matrix {
            position:fixed;
            inset:0;
            width:100%;
            height:100%;
            display:block;
            z-index:0;
        }

        .ui {
            position:relative;
            z-index:2;
            display:flex;
            align-items:center;
            justify-content:center;
            height:100%;
            pointer-events:none;
        }

        .card {
            pointer-events:auto;
            background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.6));
            border: 1px solid rgba(0,255,106,0.08);
            padding:28px 36px;
            border-radius:10px;
            box-shadow: 0 8px 30px rgba(0,255,106,0.03);
            text-align:center;
            backdrop-filter: blur(6px) saturate(1.1);
            color:var(--matrix-green);
            max-width:720px;
            width:calc(100% - 48px);
        }

        h1{
            margin:0 0 8px;
            font-size: clamp(18px, 3.6vw, 36px);
            letter-spacing:1.2px;
        }

        p.lead{
            margin:0 0 16px;
            color:rgba(0,255,106,0.85);
            font-size:clamp(12px, 1.6vw, 16px);
            line-height:1.4;
            opacity:0.95;
        }

        .controls{
            display:flex;
            gap:8px;
            justify-content:center;
            flex-wrap:wrap;
        }

        .btn{
            background:transparent;
            color:var(--matrix-green);
            border:1px solid rgba(0,255,106,0.12);
            padding:8px 12px;
            border-radius:6px;
            cursor:pointer;
            font-family:var(--mono);
            font-size:13px;
        }
        .btn:hover{ border-color:rgba(0,255,106,0.3); }

        .muted{
            margin-top:12px;
            font-size:12px;
            color:rgba(0,255,106,0.45);
        }

        @media (max-width:520px){
            .card{ padding:18px 16px; }
        }
    </style>
</head>
<body>
    <canvas id="matrix"></canvas>

    <div class="ui" aria-hidden="true">
        <div class="card">
            <h1>Hacker detected — Matrix Rain</h1>
            <p class="lead">A compact, GPU-friendly digital rain background. Resize, click to pause/resume, or change speed.</p>
            <div class="controls">
                <button class="btn" id="toggle">Pause</button>
                <button class="btn" id="faster">Faster</button>
                <button class="btn" id="slower">Slower</button>
                <button class="btn" id="clear">Clear</button>
            </div>
            <div class="muted">Built with HTML Canvas — lightweight and responsive.</div>
        </div>
    </div>

    <script>
        (function(){
            const canvas = document.getElementById('matrix');
            const ctx = canvas.getContext('2d');

            let width = 0, height = 0, columns = 0;
            const fontSize = 16; // base font size, will be scaled for high-DPI
            let drops = [];
            let running = true;
            let speedMultiplier = 1; // 0.5..3
            const chars = 'アカサタナハマヤラワ0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz@#$%&*+-/<>';

            function resize(){
                const dpr = Math.max(1, window.devicePixelRatio || 1);
                width = canvas.width = Math.floor(window.innerWidth * dpr);
                height = canvas.height = Math.floor(window.innerHeight * dpr);
                canvas.style.width = window.innerWidth + 'px';
                canvas.style.height = window.innerHeight + 'px';
                ctx.scale(dpr, dpr);

                // recompute columns in CSS pixels
                columns = Math.floor(window.innerWidth / fontSize);
                drops = new Array(columns).fill(0).map(() => Math.floor(Math.random() * -50));
            }

            // draw one frame
            function draw(){
                if (!running) return;
                // dark transparent rectangle to create trail fade
                ctx.fillStyle = 'rgba(0, 0, 0, 0.07)';
                ctx.fillRect(0, 0, width, height);

                ctx.font = fontSize + 'px monospace';

                for (let i = 0; i < columns; i++){
                    const x = i * fontSize;
                    const y = drops[i] * fontSize;

                    // choose a random character
                    const ch = chars.charAt(Math.floor(Math.random() * chars.length));

                    // bright head
                    ctx.fillStyle = 'rgba(180,255,200,0.95)';
                    ctx.fillText(ch, x + 2, y + fontSize);

                    // older tail (slightly shifted)
                    ctx.fillStyle = 'rgba(0,255,106,0.8)';
                    for (let t = 1; t < 4; t++){
                        const yy = y - t * fontSize * 0.6;
                        if (yy > 0) ctx.fillText(chars.charAt(Math.floor(Math.random() * chars.length)), x + 2, yy + fontSize);
                    }

                    // advance drop
                    if (Math.random() > 0.975) {
                        // sporadic reset to create variance
                        drops[i] = Math.floor(Math.random() * -20);
                    } else {
                        drops[i] += Math.ceil(1 * speedMultiplier);
                    }

                    // reset if beyond screen
                    if (drops[i] * fontSize > window.innerHeight + 20){
                        drops[i] = Math.floor(Math.random() * -80);
                    }
                }

                requestAnimationFrame(draw);
            }

            // controls
            document.getElementById('toggle').addEventListener('click', (e)=>{
                running = !running;
                e.target.textContent = running ? 'Pause' : 'Resume';
                if (running) requestAnimationFrame(draw);
            });
            document.getElementById('faster').addEventListener('click', ()=>{
                speedMultiplier = Math.min(3, speedMultiplier + 0.25);
            });
            document.getElementById('slower').addEventListener('click', ()=>{
                speedMultiplier = Math.max(0.25, speedMultiplier - 0.25);
            });
            document.getElementById('clear').addEventListener('click', ()=>{
                ctx.clearRect(0,0,width,height);
                drops = drops.map(()=>Math.floor(Math.random()*-80));
            });

            // pause/resume on canvas click
            canvas.addEventListener('click', ()=>{
                running = !running;
                document.getElementById('toggle').textContent = running ? 'Pause' : 'Resume';
                if (running) requestAnimationFrame(draw);
            });

            // initialize
            window.addEventListener('resize', ()=>{
                // reset transform before resizing
                ctx.setTransform(1,0,0,1,0,0);
                resize();
            }, {passive:true});

            resize();
            // clear black before first frame
            ctx.fillStyle = '#000';
            ctx.fillRect(0,0,width,height);
            requestAnimationFrame(draw);
        })();
    </script>
</body>
</html>